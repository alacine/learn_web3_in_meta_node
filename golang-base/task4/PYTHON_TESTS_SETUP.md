# Python API æµ‹è¯•å¿«é€Ÿè®¾ç½®æŒ‡å—

## âœ… é—®é¢˜å·²ä¿®å¤ï¼

Pythonæµ‹è¯•å¥—ä»¶ç°åœ¨å·²ç»å®Œå…¨å¯ç”¨ã€‚ä¹‹å‰çš„ hatchling æ„å»ºé”™è¯¯å·²ç»è§£å†³ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¡®ä¿æœåŠ¡è¿è¡Œ

```bash
# å¯åŠ¨ MySQL æ•°æ®åº“
docker-compose up -d

# å¯åŠ¨ Go æœåŠ¡å™¨
go run main.go
```

### 2. è¿è¡Œ Python æµ‹è¯•

```bash
# æ–¹å¼1: ä½¿ç”¨ uv run (æ¨è)
uv run run_tests.py                 # äº¤äº’å¼èœå•
uv run run_tests.py --all           # è¿è¡Œæ‰€æœ‰æµ‹è¯•
uv run run_tests.py --user          # ä»…ç”¨æˆ·APIæµ‹è¯•
uv run run_tests.py --comprehensive # ç»¼åˆæµ‹è¯•

# æ–¹å¼2: ç›´æ¥è¿è¡Œè„šæœ¬
python run_tests.py --all

# æ–¹å¼3: è¿è¡Œå•ä¸ªæµ‹è¯•æ¨¡å—
uv run python -m tests.test_user_api
```

### 3. å¿«é€ŸéªŒè¯

```bash
# è¿è¡Œå¿«é€ŸéªŒè¯æµ‹è¯•
uv run quick_test.py
```

## ğŸ”§ ä¿®å¤çš„é—®é¢˜

1. **hatchling æ„å»ºé…ç½®**: ä¿®å¤äº† `pyproject.toml` ä¸­çš„åŒ…é…ç½®
2. **ID æå–é€»è¾‘**: ä¿®å¤äº†ä» API å“åº”ä¸­æå– ID çš„é€»è¾‘ï¼Œæ”¯æŒ `ID` å’Œ `id` å­—æ®µ
3. **ä¾èµ–ç®¡ç†**: ä½¿ç”¨ uv æ­£ç¡®ç®¡ç† Python ä¾èµ–

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ pyproject.toml          # âœ… å·²ä¿®å¤çš„é¡¹ç›®é…ç½®
â”œâ”€â”€ run_tests.py           # ğŸ¯ ä¸»æµ‹è¯•è¿è¡Œå™¨
â”œâ”€â”€ quick_test.py          # âš¡ å¿«é€ŸéªŒè¯è„šæœ¬
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_test.py       # ğŸ”§ åŸºç¡€æµ‹è¯•ç±»(å·²ä¿®å¤IDæå–)
â”‚   â”œâ”€â”€ test_user_api.py   # ğŸ‘¤ ç”¨æˆ·APIæµ‹è¯•
â”‚   â”œâ”€â”€ test_post_api.py   # ğŸ“„ æ–‡ç« APIæµ‹è¯•
â”‚   â”œâ”€â”€ test_comment_api.py # ğŸ’¬ è¯„è®ºAPIæµ‹è¯•
â”‚   â””â”€â”€ test_comprehensive.py # ğŸ”„ ç»¼åˆæµ‹è¯•
```

## ğŸ¨ æµ‹è¯•åŠŸèƒ½

### âœ¨ å·²å®ç°çš„åŠŸèƒ½

- âœ… **å½©è‰²ç»ˆç«¯è¾“å‡º** - ä½¿ç”¨ colorama ç¾åŒ–æ˜¾ç¤º
- âœ… **è¯¦ç»†è¯·æ±‚æ—¥å¿—** - æ˜¾ç¤ºå®Œæ•´çš„ HTTP è¯·æ±‚/å“åº”
- âœ… **è‡ªåŠ¨æ•°æ®æ¸…ç†** - æµ‹è¯•åè‡ªåŠ¨åˆ é™¤åˆ›å»ºçš„æ•°æ®
- âœ… **é”™è¯¯å¤„ç†** - å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶
- âœ… **æ¨¡å—åŒ–è®¾è®¡** - æ¯ä¸ªAPIç±»å‹ç‹¬ç«‹æµ‹è¯•
- âœ… **äº¤äº’å¼èœå•** - å‹å¥½çš„å‘½ä»¤è¡Œç•Œé¢

### ğŸ§ª æµ‹è¯•è¦†ç›–

- **ç”¨æˆ·æµ‹è¯•**: æ³¨å†Œã€ç™»å½•ã€CRUDã€è¾¹ç•Œæ¡ä»¶
- **æ–‡ç« æµ‹è¯•**: åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€é•¿å†…å®¹
- **è¯„è®ºæµ‹è¯•**: è¯„è®ºç®¡ç†ã€ç‰¹æ®Šå­—ç¬¦ã€å¤šè¯­è¨€
- **ç»¼åˆæµ‹è¯•**: å¤šç”¨æˆ·äº¤äº’ã€å®Œæ•´å·¥ä½œæµ

## âš¡ ä½¿ç”¨ç¤ºä¾‹

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆæ¨èç”¨äº CI/CDï¼‰
uv run run_tests.py --all --no-banner

# ä»…æµ‹è¯•ç”¨æˆ·åŠŸèƒ½
uv run run_tests.py --user

# è‡ªå®šä¹‰ API åœ°å€
uv run run_tests.py --all --base-url http://localhost:8080/api/v1

# å¿«é€ŸéªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸
uv run quick_test.py
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **`uv: command not found`**
   ```bash
   # å®‰è£… uv
   curl -LsSf https://astral.sh/uv/install.sh | sh
   ```

2. **æœåŠ¡å™¨è¿æ¥å¤±è´¥**
   ```bash
   # ç¡®ä¿ Go æœåŠ¡å™¨è¿è¡Œåœ¨ 8000 ç«¯å£
   go run main.go
   ```

3. **æ•°æ®åº“è¿æ¥é”™è¯¯**
   ```bash
   # å¯åŠ¨ MySQL å®¹å™¨
   docker-compose up -d
   ```

### è°ƒè¯•æŠ€å·§

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
uv run run_tests.py --user 2>&1 | tee test.log

# æµ‹è¯•å•ä¸ªåŠŸèƒ½æ¨¡å—
uv run python -c "from tests.test_user_api import UserAPITest; UserAPITest().test_user_registration()"
```

## ğŸ¯ æµ‹è¯•ç»“æœç¤ºä¾‹

```
âœ… æœåŠ¡å™¨è¿è¡Œæ­£å¸¸
ğŸ“‹ æ­¥éª¤1: ç”¨æˆ·æ³¨å†Œæµ‹è¯•
ğŸŒ POST http://localhost:8000/api/v1/register
ğŸ“ˆ çŠ¶æ€ç : 200
âœ… æ­£å¸¸ç”¨æˆ·æ³¨å†Œ - æˆåŠŸ
â„¹ï¸  åˆ›å»ºç”¨æˆ·ID: 13
```

ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ `uv run run_tests.py` æ¥è¿è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶äº†ï¼ğŸ‰